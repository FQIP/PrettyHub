## 开发注意

### background.js（后台脚本）
- 这通常是扩展的主线程，它在扩展的整个生命周期内持续运行。后台脚本用于管理扩展的生命周期，可以监听浏览器事件（如安装、更新、浏览器启动等），也可以执行需要在后台持续运行的任务。

### background.js（后台脚本）的局限
- 资源限制：后台脚本长期运行，因此应避免占用过多资源，以免影响浏览器性能。
- 执行环境：后台脚本运行在浏览器的扩展环境中，不能直接访问或操作网页的DOM。
- 用户界面限制：后台脚本通常不直接与用户界面交互，它更多地负责后台逻辑和事件监听。
- 生命周期限制：后台脚本的生命周期与浏览器扩展的生命周期绑定，不会因网页的加载或卸载而改变。

### background.js（后台脚本）的优点
- 可以使用es6的import方式导入其它模块进行开发
- 管理扩展生命周期：后台脚本可以监听浏览器事件，如安装、更新、浏览器启动等，执行相应的操作。
- 执行后台任务：后台脚本可以执行需要在后台持续运行的任务，如定时任务、数据处理等。
- 全局事件监听：后台脚本可以监听全局事件，如浏览器地址栏变化、用户点击扩展图标等，实现全局的扩展功能。
- 跨页面通信：后台脚本可以与网页内容脚本进行通信，实现跨页面交互。
- 跨扩展通信：后台脚本可以与其他扩展进行通信，实现跨扩展交互。

### content.js（内容脚本）
- 这是在网页的上下文中运行的脚本，它允许扩展与网页内容交互。内容脚本通常用于读取或修改网页内容，例如注入自定义的CSS样式、操作DOM元素或与网页的JavaScript代码交互。

### content.js（内容脚本）的优点
- 权限：内容脚本可以访问和操作当前网页的DOM和JavaScript环境。
- 性能：内容脚本可以执行一些需要大量计算或修改DOM的操作，而不会影响网页的性能。
- 通信：内容脚本可以与后台脚本通信，实现更复杂的交互和功能。
- 生命周期：内容脚本的生命周期与当前网页的生命周期绑定，可以响应网页的加载和卸载事件。

### content.js（内容脚本）的局限
- 不能使用es6的import方式导入其它模块进行开发，因此如果想要以工程化的方式进行开发，需要配合使用其它打包工具（如：webpack或rollup）在运行时全量打包成单文件才行。
- 沙盒环境：内容脚本运行在网页的上下文中，但它实际上是在一个沙盒环境中，与网页的其他脚本隔离开来。这意味着它不能直接访问网页的JavaScript变量和函数。所以如果想要访问网页的变量和函数，需要手动注入javascript脚本。比如当前项目中想要重写浏览器导航事件，如果直接在写在content.js中，由于content.js运行在沙盒环境中（实际上是一个可以操作或访问当前网页的DOM/BOM，但无法覆盖重写的这样一个环境），会导致重写不生效，解决方法就是手动通过注入脚本方式。
- 性能影响：内容脚本可能会影响网页的性能，尤其是当它们修改DOM或执行大量计算时。
- 权限限制：内容脚本通常需要明确声明对特定网站或所有网站的访问权限。
- 通信限制：虽然内容脚本可以与后台脚本通信，但这种通信是基于消息传递的，可能不如在同一环境中的脚本直接交互高效。

## 使用
浏览器插件管理开启开发者模式后，点击”加载已解压的扩展程序“的方式导入当前项目文件即可使用，通过点击插件工具栏的插件图标就可以进行功能的启用和关闭。